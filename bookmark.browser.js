/**
 * @file bookmark.browser.js
 * @name netscape-bookmark-tree
 * @version 2.1.0 Build.1684223288001
 * @author ZMY
 * @license MIT
 */
function e(e,t,n){const r="    ";function a(e,i){return e.reduce((function(e,c){const{name:o,attributes:s,children:u}=t(c,i),l=i.concat(c),d=i.reduce((e=>e+r),n+r),T=function(e){return e?e.reduce((function(e,t){return`${e} ${t[0].toUpperCase()}="${t[1]}"`}),""):""}(s);let h;if(Array.isArray(u)){const e=a(u,l),t=[`<DT><H3${T}>${o}</H3>`,"<DL><p>",r+e,"</DL><p>"];0===u.length&&t.splice(2,1),h=t.join(d)}else h=`<DT><A${T}>${o}</A>`;return e?e+d+h:h}),"")}return e.map((function(e){const{children:n,name:i}=t(e);let c=a(n,[]);return c=`\n<!DOCTYPE NETSCAPE-Bookmark-file-1>\n\x3c!-- This is an automatically generated file.\n     It will be read and overwritten.\n     DO NOT EDIT! --\x3e\n<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n<TITLE>Bookmarks</TITLE>\n<H1>${i}</H1>\n<DL><p>\n${r}${c}\n</DL><p>\n`,c=c.trimStart(),c}))}const t={parseHTML(e){const t=document.createElement("div");return t.innerHTML=e,t.childNodes},getTag:e=>e.nodeName.toLowerCase(),getName:e=>e.textContent,setAttrs(e,t){const n=t.attributes,r=[];for(let t=0;t<n.length;t++){const a=n[t];e[a.name]=a.value,r.push([a.name,a.value])}return r}},n={parse:{each(e,t){const n=(a=t.parentPath)[a.length-1],r=t.index;var a;return e.index=r,n?(e.id=`${n.id}_${r}`,e.pid=n.id):e.id=r.toString(),e},setChildren(e,t){e.children=t}},stringify:{each:function(e){return e},eol:"\n"}};function r(e,r){return r=Object.assign({},n.parse,r),function(e,t,n,r){const a=t.replace(/<!DOCTYPE [\s\S]+?<\/TITLE>|<DT>|<p>/g,""),i=function t(a,i){const c=[];return a.forEach((function(a){const o=e.getTag(a);function s(t){const r=c.length;let s={name:e.getName(a)};const u=e.setAttrs(s,a);s=n(s,{parentPath:i,isLeaf:t,index:r,attributes:u,tag:o},a)||s,c.push(s)}if("a"===o)s(!0);else if("h3"===o||"h1"===o)s(!1);else if("dl"===o){const e=c[c.length-1],n=i.concat(e),o=t(a.childNodes,n);r(e,o)}})),c}(e.parseHTML(a),[]);return i}(t,e,r.each,r.setChildren)}function a(t,r){return e(t,(r=Object.assign({},n.stringify,r)).each,r.eol)}export{r as default,n as defaultOptions,r as parse,a as stringify};
