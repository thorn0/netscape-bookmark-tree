var bookmark=function(){"use strict";const t={parseHTML(t){const e=document.createElement("div");return e.innerHTML=t,e.childNodes},getTag:t=>t.nodeName.toLowerCase(),getName:t=>t.textContent,getAttrs:t=>Array.from(t.attributes),addAttrs(t,e){const n=e.attributes;for(let e=0;e<n.length;e++){const r=n[e];t[r.name]=r.value}}};return function(e,n){return function(t,e,n){n=Object.assign({each:(t,e,n,r)=>t,setChildren(t,e){t.children=e}},n);const r=e.replace(/^[\s\S]+<\/TITLE>|<DT>|<p>/g,""),s=function e(r,s){const o=s?s.id:Date.now(),a=[];return r.forEach((function(r){const c=t.getTag(r);function i(e){const c=a.length;let i={index:c,id:`${o}_${c}`,pid:o,name:t.getName(r)};t.addAttrs(i,r),i=n.each(i,s,e,r),a.push(i)}if("a"===c)i(!0);else if("h3"===c||"h1"===c)i(!1);else if("dl"===c){const t=a[a.length-1],s=e(r.childNodes,t);n.setChildren(t,s)}})),a}(t.parseHTML(r),null);return s}(t,e,n)}}();
