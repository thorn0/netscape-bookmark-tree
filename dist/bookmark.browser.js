const t={each(t,e){const n=(r=e.parentPath)[r.length-1],a=e.index;var r;return t.index=a,n?(t.id=`${n.id}_${a}`,t.pid=n.id):t.id=a.toString(),t},setChildren(t,e){t.children=e}};const e={parseHTML(t){const e=document.createElement("div");return e.innerHTML=t,e.childNodes},getTag:t=>t.nodeName.toLowerCase(),getName:t=>t.textContent,getAttrs:t=>Array.from(t.attributes),addAttrs(t,e){const n=e.attributes;for(let e=0;e<n.length;e++){const a=n[e];t[a.name]=a.value}}};var n={parse:(n,a)=>function(e,n,a){a=Object.assign({},t,a);const r=n.replace(/^[\s\S]+<\/TITLE>|<DT>|<p>/g,""),s=function t(n,r){const s=[];return n.forEach((function(n){const o=e.getTag(n);function c(t){const o=s.length;let c={name:e.getName(n)};e.addAttrs(c,n);const i={parentPath:r,isLeaf:t,index:o,rawNode:n};c=a.each(c,i)||c,s.push(c)}if("a"===o)c(!0);else if("h3"===o||"h1"===o)c(!1);else if("dl"===o){const e=s[s.length-1],o=r.concat(e),c=t(n.childNodes,o);a.setChildren(e,c)}})),s}(e.parseHTML(r),[]);return s}(e,n,a),defaultOptions:t};export{n as default};
