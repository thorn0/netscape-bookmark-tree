"use strict";var e=require("parse5");const t={each(e,t){const n=(s=t.parentPath)[s.length-1],a=t.index;var s;return e.index=a,n?(e.id=`${n.id}_${a}`,e.pid=n.id):e.id=a.toString(),e},setChildren(e,t){e.children=t}};const n={parseHTML:t=>e.parseFragment(t).childNodes,getTag:e=>e.nodeName,getName:e=>e.childNodes[0].value,addAttrs(e,t){t.attrs.forEach((function(t){e[t.name]=t.value}))}};var a={parse:(e,a)=>function(e,n,a){a=Object.assign({},t,a);const s=n.replace(/^[\s\S]+<\/TITLE>|<DT>|<p>/g,""),r=function t(n,s){const r=[];return n.forEach((function(n){const i=e.getTag(n);function c(t){const i=r.length;let c={name:e.getName(n)};e.addAttrs(c,n);const d={parentPath:s,isLeaf:t,index:i,rawNode:n};c=a.each(c,d)||c,r.push(c)}if("a"===i)c(!0);else if("h3"===i||"h1"===i)c(!1);else if("dl"===i){const e=r[r.length-1],i=s.concat(e),c=t(n.childNodes,i);a.setChildren(e,c)}})),r}(e.parseHTML(s),[]);return r}(n,e,a),defaultOptions:t};module.exports=a;
