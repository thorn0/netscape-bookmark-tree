import{parseFragment as e}from"parse5";const t={each(e,t){const n=(s=t.parentPath)[s.length-1],a=t.index;var s;return e.index=a,n?(e.id=`${n.id}_${a}`,e.pid=n.id):e.id=a.toString(),e},setChildren(e,t){e.children=t}};const n={parseHTML:t=>e(t).childNodes,getTag:e=>e.nodeName,getName:e=>e.childNodes[0].value,addAttrs(e,t){t.attrs.forEach((function(t){e[t.name]=t.value}))}};var a={parse:(e,a)=>function(e,n,a){a=Object.assign({},t,a);const s=n.replace(/^[\s\S]+<\/TITLE>|<DT>|<p>/g,""),r=function t(n,s){const r=[];return n.forEach((function(n){const i=e.getTag(n);function o(t){const i=r.length;let o={name:e.getName(n)};e.addAttrs(o,n);const c={parentPath:s,isLeaf:t,index:i,rawNode:n};o=a.each(o,c)||o,r.push(o)}if("a"===i)o(!0);else if("h3"===i||"h1"===i)o(!1);else if("dl"===i){const e=r[r.length-1],i=s.concat(e),o=t(n.childNodes,i);a.setChildren(e,o)}})),r}(e.parseHTML(s),[]);return r}(n,e,a),defaultOptions:t};export{a as default};
